import{a as O,b as D,c as G,f as V}from"./chunk-ENUZ35MQ.js";import{$a as s,Ba as y,Ka as u,La as C,Ma as b,N as P,Oa as h,Pa as w,Pb as M,Qa as g,Ra as r,S as c,Sa as o,T as p,Ta as x,Xa as _,Za as d,eb as v,fb as m,hb as S,oa as k,pa as l}from"./chunk-MIYD4THW.js";function B(t,i){if(t&1&&(r(0,"span",15),m(1),o()),t&2){let e=i.$implicit;v("win",e.outcome==="win"||e.outcome==="blackjack")("lose",e.outcome==="lose"),l(),S(" ",e.message," ")}}function H(t,i){if(t&1&&(r(0,"div",6),h(1,B,2,5,"span",14,b),o()),t&2){let e=s();l(),w(e.gameState.results())}}function E(t,i){if(t&1&&x(0,"app-hand",8),t&2){let e=i.$implicit,a=i.$index,n=s();g("hand",e)("label",n.gameState.playerHands().length>1?"Hand "+(a+1):"Spieler")("isActive",n.gameState.activeHandIndex()===a&&n.gameState.phase()==="player-turn")}}function z(t,i){if(t&1){let e=_();r(0,"app-betting-section",16),d("betPlaced",function(n){c(e);let f=s();return p(f.onBetPlaced(n))}),o()}if(t&2){let e=s();g("bankroll",e.gameState.bankroll())}}function N(t,i){if(t&1){let e=_();r(0,"app-action-buttons",17),d("hitClicked",function(){c(e);let n=s();return p(n.onHit())})("standClicked",function(){c(e);let n=s();return p(n.onStand())})("doubleClicked",function(){c(e);let n=s();return p(n.onDouble())})("splitClicked",function(){c(e);let n=s();return p(n.onSplit())}),o()}if(t&2){let e=s();g("canHit",e.gameState.canHit())("canStand",e.gameState.canStand())("canDouble",e.gameState.canDouble())("canSplit",e.gameState.canSplit())}}function R(t,i){if(t&1){let e=_();r(0,"button",20),d("click",function(){c(e);let n=s(2);return p(n.onResetBankroll())}),m(1," \u{1F4B0} Bankroll zur\xFCcksetzen "),o()}}function j(t,i){if(t&1){let e=_();r(0,"div",11)(1,"button",18),d("click",function(){c(e);let n=s();return p(n.onNewRound())}),m(2," \u{1F3B0} Neue Runde "),o(),u(3,R,2,0,"button",19),o()}if(t&2){let e=s();l(3),C(e.gameState.bankroll()<10?3:-1)}}function F(t,i){t&1&&(r(0,"div",12),x(1,"span",21),m(2," Bitte warten... "),o())}var T=class t{gameState=P(M);handleKeyDown(i){if(this.gameState.phase()==="player-turn")switch(i.key.toLowerCase()){case"h":this.onHit();break;case"s":this.onStand();break;case"d":this.onDouble();break;case"p":this.onSplit();break}}onBetPlaced(i){this.gameState.placeBet(i)}onHit(){this.gameState.hit()}onStand(){this.gameState.stand()}onDouble(){this.gameState.double()}onSplit(){this.gameState.split()}onNewRound(){this.gameState.initializeNewRound()}onResetBankroll(){this.gameState.resetBankroll()}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=y({type:t,selectors:[["app-game-page"]],hostBindings:function(e,a){e&1&&d("keydown",function(f){return a.handleKeyDown(f)},k)},decls:18,vars:8,consts:[[1,"game-page"],[1,"game-header"],[1,"round-info"],[1,"game-area"],[1,"dealer-section"],["label","Dealer",3,"hand","isDealer","showValue"],[1,"result-banner"],[1,"player-section"],[3,"hand","label","isActive"],[3,"bankroll"],[3,"canHit","canStand","canDouble","canSplit"],[1,"new-round-section"],[1,"waiting-indicator"],[3,"dismissed","message","show"],[1,"result-text",3,"win","lose"],[1,"result-text"],[3,"betPlaced","bankroll"],[3,"hitClicked","standClicked","doubleClicked","splitClicked","canHit","canStand","canDouble","canSplit"],[1,"new-round-btn",3,"click"],[1,"reset-btn"],[1,"reset-btn",3,"click"],[1,"spinner"]],template:function(e,a){if(e&1&&(r(0,"div",0)(1,"header",1)(2,"h1"),m(3,"\u{1F0CF} Blackjack"),o(),r(4,"div",2),m(5),o()(),r(6,"main",3)(7,"section",4),x(8,"app-hand",5),o(),u(9,H,3,0,"div",6),r(10,"section",7),h(11,E,1,3,"app-hand",8,b),o(),u(13,z,1,1,"app-betting-section",9)(14,N,1,4,"app-action-buttons",10)(15,j,4,1,"div",11)(16,F,3,0,"div",12),o(),r(17,"app-message-display",13),d("dismissed",function(){return a.gameState.hideMessage()}),o()()),e&2){let n;l(5),S(" Runde: ",a.gameState.roundNumber()," "),l(3),g("hand",a.gameState.dealerHand())("isDealer",!0)("showValue",a.gameState.phase()!=="player-turn"),l(),C(a.gameState.phase()==="game-over"?9:-1),l(2),w(a.gameState.playerHands()),l(2),C((n=a.gameState.phase())==="betting"?13:n==="player-turn"?14:n==="game-over"?15:16),l(4),g("message",a.gameState.message())("show",a.gameState.showMessage())}},dependencies:[O,D,G,V],styles:[".game-page[_ngcontent-%COMP%]{min-height:100vh;background:linear-gradient(135deg,#064e3b,#065f46,#047857);padding:20px;display:flex;flex-direction:column}.game-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:16px;background:#0000004d;border-radius:12px;margin-bottom:20px}.game-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0;font-size:24px;color:#fbbf24}.round-info[_ngcontent-%COMP%]{color:#9ca3af;font-size:14px}.game-area[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;align-items:center;gap:24px}.dealer-section[_ngcontent-%COMP%], .player-section[_ngcontent-%COMP%]{width:100%;max-width:600px}.player-section[_ngcontent-%COMP%]{display:flex;gap:16px;justify-content:center;flex-wrap:wrap}.result-banner[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px;padding:16px 32px;background:#00000080;border-radius:12px}.result-text[_ngcontent-%COMP%]{font-size:18px;font-weight:700;color:#e5e7eb;text-align:center}.result-text.win[_ngcontent-%COMP%]{color:#10b981}.result-text.lose[_ngcontent-%COMP%]{color:#ef4444}.new-round-section[_ngcontent-%COMP%]{display:flex;gap:16px;flex-wrap:wrap;justify-content:center}.new-round-btn[_ngcontent-%COMP%]{padding:16px 48px;background:linear-gradient(135deg,#f59e0b,#dc2626);color:#fff;border:none;border-radius:12px;font-size:20px;font-weight:700;cursor:pointer;transition:all .2s ease;font-family:inherit}.new-round-btn[_ngcontent-%COMP%]:hover{transform:scale(1.05);box-shadow:0 4px 20px #f59e0b80}.reset-btn[_ngcontent-%COMP%]{padding:12px 24px;background:#6b7280;color:#fff;border:none;border-radius:8px;font-size:14px;cursor:pointer;transition:all .2s ease;font-family:inherit}.reset-btn[_ngcontent-%COMP%]:hover{background:#4b5563}.waiting-indicator[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;color:#9ca3af;font-size:16px}.spinner[_ngcontent-%COMP%]{width:20px;height:20px;border:2px solid #6b7280;border-top-color:#3b82f6;border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{to{transform:rotate(360deg)}}@media(max-width:640px){.game-page[_ngcontent-%COMP%]{padding:12px}.game-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:18px}.new-round-btn[_ngcontent-%COMP%]{padding:12px 32px;font-size:16px}}"],changeDetection:0})};export{T as GamePageComponent};
