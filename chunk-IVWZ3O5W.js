import{a as T,b as M,d as O,e as E}from"./chunk-KJMOQPEW.js";import{$a as l,Ba as P,Ka as u,La as C,Lb as y,N as S,Pb as v,Qa as _,Ra as i,S as d,Sa as a,T as g,Ta as h,Xa as b,Za as p,eb as k,fb as s,hb as f,oa as w,pa as r}from"./chunk-IJG3WJKD.js";function A(c,t){if(c&1){let e=b();i(0,"div",8)(1,"div",11),s(2),a(),i(3,"section",12),h(4,"app-hand",13),a(),i(5,"section",14),h(6,"app-hand",15),a(),i(7,"div",16)(8,"span",17),s(9,"\u2753"),a(),i(10,"span",18),s(11,"Was ist die optimale Aktion?"),a()(),i(12,"app-action-buttons",19),p("hitClicked",function(){d(e);let o=l();return g(o.onAnswer("hit"))})("standClicked",function(){d(e);let o=l();return g(o.onAnswer("stand"))})("doubleClicked",function(){d(e);let o=l();return g(o.onAnswer("double"))})("splitClicked",function(){d(e);let o=l();return g(o.onAnswer("split"))}),a()()}if(c&2){let e=l();r(2),f(" ",e.getHandTypeLabel()," "),r(2),_("hand",e.gameState.dealerHand())("isDealer",!0),r(2),_("hand",e.gameState.activeHand())("isActive",!0),r(6),_("canHit",!e.gameState.showMessage())("canStand",!e.gameState.showMessage())("canDouble",!e.gameState.showMessage())("canSplit",e.isPairScenario()&&!e.gameState.showMessage())}}function H(c,t){if(c&1){let e=b();i(0,"div",9)(1,"p"),s(2,"Lade Trainingsszenarien..."),a(),i(3,"button",20),p("click",function(){d(e);let o=l();return g(o.startTraining())}),s(4," Training starten "),a()()}}function V(c,t){if(c&1&&(i(0,"div",25),s(1),a()),c&2){let e,n=l(2);r(),f(" ",(e=n.gameState.trainingState().currentScenario)==null?null:e.explanation," ")}}function z(c,t){if(c&1){let e=b();i(0,"div",21),p("click",function(){d(e);let o=l();return g(o.onNextScenario())}),i(1,"div",22)(2,"div",23),s(3),a(),i(4,"div",24),s(5),a(),u(6,V,2,1,"div",25),i(7,"button",26),s(8," Weiter (Klick oder Leertaste) "),a()()()}if(c&2){let e,n,o,m,x=l();r(),k("correct",(e=x.gameState.trainingState().lastAnswer)==null?null:e.wasCorrect)("incorrect",!((n=x.gameState.trainingState().lastAnswer)!=null&&n.wasCorrect)),r(2),f(" ",(o=x.gameState.trainingState().lastAnswer)!=null&&o.wasCorrect?"\u2713":"\u2717"," "),r(2),f(" ",x.gameState.message()," "),r(),C((m=x.gameState.trainingState().currentScenario)!=null&&m.explanation?6:-1)}}var D=class c{gameState=S(v);strategyService=S(y);handleKeyDown(t){if(this.gameState.showMessage()){(t.key===" "||t.key==="Enter")&&(t.preventDefault(),this.onNextScenario());return}switch(t.key.toLowerCase()){case"h":this.onAnswer("hit");break;case"s":this.onAnswer("stand");break;case"d":this.onAnswer("double");break;case"p":this.isPairScenario()&&this.onAnswer("split");break}}ngOnInit(){this.strategyService.loadStrategy().subscribe({next:()=>this.gameState.startTraining(),error:t=>console.error("Failed to load strategy:",t)})}startTraining(){this.gameState.startTraining()}onAnswer(t){this.gameState.submitTrainingAnswer(t)}onNextScenario(){this.gameState.nextTrainingScenario()}onFilterChanged(t){this.gameState.updateTrainingFilter(t)}onResetStats(){this.gameState.resetTrainingStats()}getHandTypeLabel(){let t=this.gameState.trainingState().currentScenario;if(!t)return"";switch(t.handType){case"hard":return"Hard Hand";case"soft":return"Soft Hand";case"pair":return"Pair"}}isPairScenario(){return this.gameState.trainingState().currentScenario?.handType==="pair"}static \u0275fac=function(e){return new(e||c)};static \u0275cmp=P({type:c,selectors:[["app-training-page"]],hostBindings:function(e,n){e&1&&p("keydown",function(m){return n.handleKeyDown(m)},w)},decls:14,vars:4,consts:[[1,"training-page"],[1,"training-header"],[1,"subtitle"],[1,"training-layout"],[1,"sidebar"],[3,"resetClicked","stats"],[3,"filterChanged","filter"],[1,"training-area"],[1,"scenario-container"],[1,"no-scenario"],[1,"feedback-overlay"],[1,"scenario-type"],[1,"dealer-section"],["label","Dealer zeigt",3,"hand","isDealer"],[1,"player-section"],["label","Deine Hand",3,"hand","isActive"],[1,"question-box"],[1,"question-icon"],[1,"question-text"],[3,"hitClicked","standClicked","doubleClicked","splitClicked","canHit","canStand","canDouble","canSplit"],[1,"start-btn",3,"click"],[1,"feedback-overlay",3,"click"],[1,"feedback-box"],[1,"feedback-icon"],[1,"feedback-text"],[1,"feedback-explanation"],[1,"next-btn"]],template:function(e,n){e&1&&(i(0,"div",0)(1,"header",1)(2,"h1"),s(3,"\u{1F4DA} Strategie-Training"),a(),i(4,"p",2),s(5,"Lerne die optimale Blackjack-Strategie"),a()(),i(6,"div",3)(7,"aside",4)(8,"app-stats-display",5),p("resetClicked",function(){return n.onResetStats()}),a(),i(9,"app-training-filter",6),p("filterChanged",function(m){return n.onFilterChanged(m)}),a()(),i(10,"main",7),u(11,A,13,9,"div",8)(12,H,5,0,"div",9),a()(),u(13,z,9,7,"div",10),a()),e&2&&(r(8),_("stats",n.gameState.trainingStats()),r(),_("filter",n.gameState.trainingState().filter),r(2),C(n.gameState.trainingState().currentScenario?11:12),r(2),C(n.gameState.showMessage()?13:-1))},dependencies:[T,M,O,E],styles:[".training-page[_ngcontent-%COMP%]{min-height:100vh;background:linear-gradient(135deg,#1e3a5f,#2c5282,#2b6cb0);padding:20px}.training-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:24px}.training-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0;font-size:28px;color:#fbbf24}.subtitle[_ngcontent-%COMP%]{margin:8px 0 0;color:#9ca3af;font-size:16px}.training-layout[_ngcontent-%COMP%]{display:grid;grid-template-columns:300px 1fr;gap:24px;max-width:1200px;margin:0 auto}.sidebar[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:16px}.training-area[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.scenario-container[_ngcontent-%COMP%]{width:100%;max-width:600px;display:flex;flex-direction:column;align-items:center;gap:20px}.scenario-type[_ngcontent-%COMP%]{padding:8px 20px;background:#3b82f64d;border-radius:20px;color:#93c5fd;font-size:14px;font-weight:600;text-transform:uppercase;letter-spacing:1px}.dealer-section[_ngcontent-%COMP%], .player-section[_ngcontent-%COMP%]{width:100%}.question-box[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;padding:16px 32px;background:#0000004d;border-radius:12px}.question-icon[_ngcontent-%COMP%]{font-size:32px}.question-text[_ngcontent-%COMP%]{font-size:20px;font-weight:600;color:#e5e7eb}.no-scenario[_ngcontent-%COMP%]{text-align:center;padding:60px 20px;color:#9ca3af}.start-btn[_ngcontent-%COMP%]{margin-top:20px;padding:16px 48px;background:linear-gradient(135deg,#10b981,#059669);color:#fff;border:none;border-radius:12px;font-size:18px;font-weight:700;cursor:pointer;transition:all .2s ease;font-family:inherit}.start-btn[_ngcontent-%COMP%]:hover{transform:scale(1.05)}.feedback-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background:#000c;display:flex;align-items:center;justify-content:center;z-index:1000;cursor:pointer}.feedback-box[_ngcontent-%COMP%]{background:#1f2937;padding:40px;border-radius:20px;text-align:center;max-width:400px;animation:_ngcontent-%COMP%_popIn .3s ease}@keyframes _ngcontent-%COMP%_popIn{0%{opacity:0;transform:scale(.9)}to{opacity:1;transform:scale(1)}}.feedback-box.correct[_ngcontent-%COMP%]{border:3px solid #10b981;box-shadow:0 0 40px #10b98166}.feedback-box.incorrect[_ngcontent-%COMP%]{border:3px solid #ef4444;box-shadow:0 0 40px #ef444466}.feedback-icon[_ngcontent-%COMP%]{font-size:64px;font-weight:700;margin-bottom:16px}.feedback-box.correct[_ngcontent-%COMP%]   .feedback-icon[_ngcontent-%COMP%]{color:#10b981}.feedback-box.incorrect[_ngcontent-%COMP%]   .feedback-icon[_ngcontent-%COMP%]{color:#ef4444}.feedback-text[_ngcontent-%COMP%]{font-size:20px;font-weight:700;margin-bottom:12px;color:#fff}.feedback-explanation[_ngcontent-%COMP%]{color:#bbb;margin-bottom:20px;font-size:16px;line-height:1.5}.next-btn[_ngcontent-%COMP%]{padding:12px 24px;background:#4b5563;color:#fff;border:none;border-radius:8px;font-size:14px;cursor:pointer;font-family:inherit}@media(max-width:900px){.training-layout[_ngcontent-%COMP%]{grid-template-columns:1fr}.sidebar[_ngcontent-%COMP%]{flex-direction:row;flex-wrap:wrap;justify-content:center}.sidebar[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{flex:1;min-width:280px}}"],changeDetection:0})};export{D as TrainingPageComponent};
